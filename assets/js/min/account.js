function loadUserInfo(){fetch("/api/getUserInfo").then((function(e){return e.json()})).then((function(e){"success"===e.status?(document.getElementById("usernameDisplay").textContent=e.username,document.getElementById("infoUsername").value=e.username,document.getElementById("infoEmail").value=e.email,document.getElementById("infoApiKey").value=e.apiKey||"Not available",document.getElementById("infoCreated").value=e.createdAt):window.location.href="/signup"})).catch((function(e){console.error("Error loading user info:",e),window.location.href="/signup"}))}function setupLogout(){var e=document.getElementById("logoutBtn");e&&e.addEventListener("click",(function(){fetch("/api/logout",{method:"POST"}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(notify("Logged out successfully","success"),setTimeout((function(){window.location.href="/"}),1e3)):notify(e.message||"Logout failed","error")})).catch((function(e){notify("An error occurred","error")}))}))}function copyApiKey(){var e=document.getElementById("infoApiKey");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value).then((function(){console.log("API Key copied to clipboard!")})).catch((function(e){document.execCommand("copy"),console.log("API Key copied to clipboard!")}))}document.addEventListener("DOMContentLoaded",(function(){loadUserInfo(),setupLogout()}));